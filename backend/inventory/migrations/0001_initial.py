# Generated by Django 5.0 on 2026-01-27 11:04

import django.core.validators
import django.db.models.deletion
import inventory.validators
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('contenttypes', '0002_remove_content_type_name'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Branch',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Ushbu yozuv faolmi', verbose_name='Faol')),
                ('code', models.CharField(db_index=True, help_text='Noyob identifikator kod', max_length=20, unique=True, verbose_name='Kod')),
                ('name', models.CharField(help_text='Noyob nomi', max_length=100, unique=True, verbose_name='Nomi')),
                ('description', models.TextField(blank=True, help_text='Batafsil tavsif', null=True, verbose_name='Tavsif')),
                ('address', models.CharField(help_text="To'liq manzil", max_length=500, verbose_name='Manzil')),
                ('city', models.CharField(help_text='Shahar nomi', max_length=100, verbose_name='Shahar')),
                ('region', models.CharField(blank=True, help_text='Viloyat yoki mintaqa', max_length=100, verbose_name='Viloyat/Mintaqa')),
                ('country', models.CharField(default='Uzbekistan', help_text='Davlat nomi', max_length=100, verbose_name='Davlat')),
                ('postal_code', models.CharField(blank=True, help_text='Pochta indeksi', max_length=20, verbose_name='Pochta indeksi')),
                ('phone', models.CharField(blank=True, help_text='Filial telefon raqami', max_length=20, validators=[inventory.validators.validate_phone_number], verbose_name='Telefon')),
                ('email', models.EmailField(blank=True, help_text='Filial email manzili', max_length=254, verbose_name='Email')),
                ('branch_type', models.CharField(choices=[('HEADQUARTERS', 'Bosh ofis'), ('REGIONAL', 'Mintaqaviy filial'), ('LOCAL', 'Mahalliy filial'), ('WAREHOUSE', 'Ombor')], db_index=True, default='LOCAL', help_text='Filialning turi', max_length=20, verbose_name='Filial turi')),
                ('timezone', models.CharField(default='Asia/Tashkent', help_text='Filialning vaqt mintaqasi', max_length=50, verbose_name='Vaqt mintaqasi')),
                ('is_warehouse', models.BooleanField(default=False, help_text='Bu filial ombor funktsiyasiga egami', verbose_name='Ombor')),
                ('is_retail', models.BooleanField(default=False, help_text="Bu filial chakana savdo bilan shug'ullanadimi", verbose_name='Chakana savdo')),
                ('opening_date', models.DateField(blank=True, help_text='Filial ochilgan sana', null=True, verbose_name='Ochilgan sana')),
                ('closing_date', models.DateField(blank=True, help_text="Filial yopilgan sana (agar yopilgan bo'lsa)", null=True, verbose_name='Yopilgan sana')),
                ('created_by', models.ForeignKey(blank=True, help_text='Ushbu yozuvni yaratgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan')),
                ('last_modified_by', models.ForeignKey(blank=True, help_text="Ushbu yozuvni oxirgi marta o'zgartirgan foydalanuvchi", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_modified', to=settings.AUTH_USER_MODEL, verbose_name="Oxirgi o'zgartirgan")),
                ('parent_branch', models.ForeignKey(blank=True, help_text='Yuqori darajadagi filial (ierarxiya uchun)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sub_branches', to='inventory.branch', verbose_name='Asosiy filial')),
            ],
            options={
                'verbose_name': 'Filial',
                'verbose_name_plural': 'Filiallar',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Ushbu yozuv faolmi', verbose_name='Faol')),
                ('code', models.CharField(db_index=True, help_text='Noyob identifikator kod', max_length=20, unique=True, verbose_name='Kod')),
                ('name', models.CharField(help_text='Noyob nomi', max_length=100, unique=True, verbose_name='Nomi')),
                ('description', models.TextField(blank=True, help_text='Batafsil tavsif', null=True, verbose_name='Tavsif')),
                ('location', models.CharField(blank=True, help_text="Bo'limning joylashuvi", max_length=200, verbose_name='Joylashuv')),
                ('branch', models.ForeignKey(help_text="Bo'lim qaysi filialga tegishli", on_delete=django.db.models.deletion.CASCADE, related_name='departments', to='inventory.branch', verbose_name='Filial')),
                ('created_by', models.ForeignKey(blank=True, help_text='Ushbu yozuvni yaratgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan')),
                ('last_modified_by', models.ForeignKey(blank=True, help_text="Ushbu yozuvni oxirgi marta o'zgartirgan foydalanuvchi", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_modified', to=settings.AUTH_USER_MODEL, verbose_name="Oxirgi o'zgartirgan")),
            ],
            options={
                'verbose_name': "Bo'lim",
                'verbose_name_plural': "Bo'limlar",
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Ushbu yozuv faolmi', verbose_name='Faol')),
                ('notes', models.TextField(blank=True, help_text="Qo'shimcha izohlar va ma'lumotlar", null=True, verbose_name='Izohlar')),
                ('first_name', models.CharField(help_text='Hodimning ismi', max_length=100, verbose_name='Ism')),
                ('last_name', models.CharField(help_text='Hodimning familiyasi', max_length=100, verbose_name='Familiya')),
                ('middle_name', models.CharField(blank=True, help_text='Otasining ismi (ixtiyoriy)', max_length=100, verbose_name='Otasining ismi')),
                ('position', models.CharField(help_text='Hodimning lavozimi', max_length=100, verbose_name='Lavozim')),
                ('email', models.EmailField(blank=True, help_text='Email manzil (ixtiyoriy)', max_length=254, null=True, unique=True, verbose_name='Email')),
                ('phone', models.CharField(blank=True, help_text='Telefon raqam (ixtiyoriy)', max_length=20, null=True, validators=[inventory.validators.validate_phone_number], verbose_name='Telefon')),
                ('employee_id', models.CharField(db_index=True, help_text='Noyob hodim identifikatori', max_length=50, unique=True, validators=[inventory.validators.validate_employee_id], verbose_name='Hodim ID')),
                ('qr_code', models.ImageField(blank=True, null=True, upload_to='qr_codes/employees/', validators=[django.core.validators.FileExtensionValidator(['jpg', 'jpeg', 'png']), inventory.validators.validate_file_size], verbose_name='QR Kod')),
                ('hire_date', models.DateField(blank=True, help_text='Hodim ishga qabul qilingan sana', null=True, verbose_name='Ishga qabul qilingan sana')),
                ('termination_date', models.DateField(blank=True, help_text="Hodim ishdan chiqqan sana (agar mavjud bo'lsa)", null=True, verbose_name='Ishdan chiqqan sana')),
                ('birth_date', models.DateField(blank=True, help_text="Hodimning tug'ilgan sanasi", null=True, verbose_name="Tug'ilgan sana")),
                ('address', models.TextField(blank=True, help_text='Yashash manzili', null=True, verbose_name='Manzil')),
                ('passport_series', models.CharField(blank=True, help_text='Pasport seriyasi (XX1234567 formatida)', max_length=9, null=True, validators=[inventory.validators.validate_passport_series], verbose_name='Pasport seriyasi')),
                ('emergency_contact', models.CharField(blank=True, help_text='Favqulodda vaziyat uchun aloqa qilinadigan shaxs', max_length=200, verbose_name='Favqulodda aloqa')),
                ('emergency_phone', models.CharField(blank=True, help_text='Favqulodda vaziyat uchun telefon raqam', max_length=20, verbose_name='Favqulodda telefon')),
                ('branch', models.ForeignKey(help_text='Hodim qaysi filialda ishlaydi', on_delete=django.db.models.deletion.CASCADE, related_name='employees', to='inventory.branch', verbose_name='Filial')),
                ('created_by', models.ForeignKey(blank=True, help_text='Ushbu yozuvni yaratgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan')),
                ('department', models.ForeignKey(help_text="Hodim ishlayotgan bo'lim", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='employees', to='inventory.department', verbose_name="Bo'lim")),
                ('last_modified_by', models.ForeignKey(blank=True, help_text="Ushbu yozuvni oxirgi marta o'zgartirgan foydalanuvchi", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_modified', to=settings.AUTH_USER_MODEL, verbose_name="Oxirgi o'zgartirgan")),
            ],
            options={
                'verbose_name': 'Hodim',
                'verbose_name_plural': 'Hodimlar',
                'ordering': ['last_name', 'first_name'],
            },
        ),
        migrations.AddField(
            model_name='department',
            name='manager',
            field=models.ForeignKey(blank=True, help_text="Bo'lim menejeri (ixtiyoriy)", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_departments', to='inventory.employee', verbose_name='Menejer'),
        ),
        migrations.AddField(
            model_name='branch',
            name='area_manager',
            field=models.ForeignKey(blank=True, help_text='Bir nechta filialni nazorat qiluvchi menejer', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='area_managed_branches', to='inventory.employee', verbose_name='Hudud menejeri'),
        ),
        migrations.AddField(
            model_name='branch',
            name='manager',
            field=models.ForeignKey(blank=True, help_text='Filialni boshqaruvchi xodim', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_branches', to='inventory.employee', verbose_name='Filial menejeri'),
        ),
        migrations.CreateModel(
            name='Equipment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Ushbu yozuv faolmi', verbose_name='Faol')),
                ('notes', models.TextField(blank=True, help_text="Qo'shimcha izohlar va ma'lumotlar", null=True, verbose_name='Izohlar')),
                ('location', models.CharField(blank=True, help_text='Hozirgi joylashuv', max_length=200, verbose_name='Joriy joylashuv')),
                ('default_location', models.CharField(blank=True, help_text='Belgilangan asosiy joylashuv', max_length=200, verbose_name='Asosiy joylashuv')),
                ('name', models.CharField(help_text="Qurilmaning to'liq nomi", max_length=200, verbose_name='Qurilma nomi')),
                ('serial_number', models.CharField(blank=True, help_text='Ishlab chiqaruvchi seriya raqami', max_length=100, null=True, validators=[inventory.validators.validate_serial_number], verbose_name='Seriya raqami')),
                ('inventory_number', models.CharField(db_index=True, help_text='Noyob inventar identifikatori', max_length=100, unique=True, validators=[inventory.validators.validate_inventory_number], verbose_name='Inventar raqami')),
                ('manufacturer', models.CharField(blank=True, help_text='Ishlab chiqaruvchi kompaniya nomi', max_length=100, verbose_name='Ishlab chiqaruvchi')),
                ('model', models.CharField(blank=True, help_text='Model nomi/raqami', max_length=100, verbose_name='Model')),
                ('specifications', models.JSONField(blank=True, help_text='Texnik xususiyatlar JSON formatda', null=True, verbose_name='Texnik xususiyatlar')),
                ('purchase_date', models.DateField(blank=True, help_text='Qurilma sotib olingan sana', null=True, verbose_name='Xarid qilingan sana')),
                ('purchase_price', models.DecimalField(decimal_places=2, default=0, help_text='Dastlabki xarid narxi', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Xarid narxi')),
                ('depreciation_rate', models.DecimalField(decimal_places=2, default=0, help_text='Yillik amortizatsiya foizi (0-100)', max_digits=5, validators=[inventory.validators.validate_depreciation_rate], verbose_name='Amortizatsiya foizi')),
                ('current_value', models.DecimalField(decimal_places=2, default=0, help_text='Amortizatsiya hisobga olingan joriy qiymat', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Joriy qiymati')),
                ('warranty_expiry', models.DateField(blank=True, help_text='Kafolat tugash sanasi', null=True, verbose_name='Kafolat muddati')),
                ('warranty_provider', models.CharField(blank=True, help_text='Kafolat beruvchi kompaniya', max_length=200, verbose_name='Kafolat beruvchi')),
                ('status', models.CharField(choices=[('AVAILABLE', 'Mavjud'), ('ASSIGNED', 'Tayinlangan'), ('MAINTENANCE', "Ta'mirlash"), ('RETIRED', 'Foydalanishdan chiqarilgan'), ('DAMAGED', 'Buzilgan'), ('LOST', "Yo'qolgan")], db_index=True, default='AVAILABLE', help_text='Qurilmaning joriy holati', max_length=20, verbose_name='Holati')),
                ('condition', models.CharField(choices=[('NEW', 'Yangi'), ('EXCELLENT', "A'lo"), ('GOOD', 'Yaxshi'), ('FAIR', "O'rtacha"), ('POOR', 'Yomon')], default='GOOD', help_text='Qurilmaning fizik holati', max_length=20, verbose_name='Fizik holati')),
                ('qr_code', models.ImageField(blank=True, null=True, upload_to='qr_codes/equipment/', validators=[django.core.validators.FileExtensionValidator(['jpg', 'jpeg', 'png']), inventory.validators.validate_file_size], verbose_name='QR Kod')),
                ('image', models.ImageField(blank=True, help_text='Qurilma rasmi', null=True, upload_to='equipment/', validators=[django.core.validators.FileExtensionValidator(['jpg', 'jpeg', 'png']), inventory.validators.validate_file_size], verbose_name='Rasm')),
                ('barcode', models.CharField(blank=True, help_text='Barcode identifikatori', max_length=100, null=True, unique=True, verbose_name='Barcode')),
                ('is_critical', models.BooleanField(default=False, help_text='Muhim/kritik qurilma ekanligini belgilaydi', verbose_name='Muhim qurilma')),
                ('requires_training', models.BooleanField(default=False, help_text='Foydalanish uchun maxsus trening kerakmi', verbose_name='Treningni talab qiladi')),
                ('branch', models.ForeignKey(help_text='Qurilma qaysi filialda joylashgan', on_delete=django.db.models.deletion.CASCADE, related_name='equipments', to='inventory.branch', verbose_name='Filial')),
                ('created_by', models.ForeignKey(blank=True, help_text='Ushbu yozuvni yaratgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan')),
                ('last_modified_by', models.ForeignKey(blank=True, help_text="Ushbu yozuvni oxirgi marta o'zgartirgan foydalanuvchi", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_modified', to=settings.AUTH_USER_MODEL, verbose_name="Oxirgi o'zgartirgan")),
            ],
            options={
                'verbose_name': 'Qurilma',
                'verbose_name_plural': 'Qurilmalar',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Assignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('notes', models.TextField(blank=True, help_text="Qo'shimcha izohlar va ma'lumotlar", null=True, verbose_name='Izohlar')),
                ('assigned_date', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Qurilma tayinlangan vaqt', verbose_name='Tayinlangan sana')),
                ('expected_return_date', models.DateField(blank=True, help_text="Qurilmani qaytarish kerak bo'lgan sana", null=True, verbose_name='Qaytarish rejalashtirilgan sana')),
                ('return_date', models.DateTimeField(blank=True, db_index=True, help_text='Qurilma qaytarilgan vaqt', null=True, verbose_name='Qaytarilgan sana')),
                ('condition_on_assignment', models.TextField(blank=True, help_text='Qurilmaning tayinlash paytidagi holati', verbose_name='Tayinlash paytidagi holat')),
                ('condition_on_return', models.TextField(blank=True, help_text='Qurilmaning qaytarish paytidagi holati', null=True, verbose_name='Qaytarish paytidagi holat')),
                ('purpose', models.TextField(blank=True, help_text='Qurilma nima uchun tayinlanmoqda', verbose_name='Foydalanish maqsadi')),
                ('location', models.CharField(blank=True, help_text='Qurilma qayerda foydalaniladi', max_length=200, verbose_name='Joylashuv')),
                ('is_temporary', models.BooleanField(default=False, help_text='Vaqtinchalik tayinlash', verbose_name='Vaqtinchalik')),
                ('requires_approval', models.BooleanField(default=False, help_text='Tasdiqlash talab qilinadimi', verbose_name='Tasdiqlash kerak')),
                ('is_approved', models.BooleanField(default=True, help_text='Tayinlash tasdiqlangan', verbose_name='Tasdiqlangan')),
                ('return_notes', models.TextField(blank=True, help_text="Qurilma qaytarilganda qo'shilgan izohlar", null=True, verbose_name='Qaytarish izohlari')),
                ('acknowledgement_signature', models.ImageField(blank=True, help_text='Hodimning qabul qilish imzosi', null=True, upload_to='signatures/', verbose_name='Hodim imzosi')),
                ('approved_by', models.ForeignKey(blank=True, help_text='Tayinlashni tasdiqlagan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assignments_approved', to=settings.AUTH_USER_MODEL, verbose_name='Tasdiqlagan')),
                ('assigned_by', models.ForeignKey(help_text='Tayinlashni amalga oshirgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assignments_created', to=settings.AUTH_USER_MODEL, verbose_name='Tayinlagan')),
                ('returned_by', models.ForeignKey(blank=True, help_text='Qaytarishni qabul qilgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assignments_returned', to=settings.AUTH_USER_MODEL, verbose_name='Qabul qilgan')),
                ('employee', models.ForeignKey(help_text='Qurilma tayinlanayotgan hodim', on_delete=django.db.models.deletion.CASCADE, related_name='assignments', to='inventory.employee', verbose_name='Hodim')),
                ('equipment', models.ForeignKey(help_text='Tayinlanayotgan qurilma', on_delete=django.db.models.deletion.CASCADE, related_name='assignments', to='inventory.equipment', verbose_name='Qurilma')),
            ],
            options={
                'verbose_name': 'Tayinlash',
                'verbose_name_plural': 'Tayinlashlar',
                'ordering': ['-assigned_date'],
            },
        ),
        migrations.CreateModel(
            name='EquipmentCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('code', models.CharField(db_index=True, help_text='Noyob identifikator kod', max_length=20, unique=True, verbose_name='Kod')),
                ('name', models.CharField(help_text='Noyob nomi', max_length=100, unique=True, verbose_name='Nomi')),
                ('description', models.TextField(blank=True, help_text='Batafsil tavsif', null=True, verbose_name='Tavsif')),
                ('is_active', models.BooleanField(default=True, help_text='Kategoriya faolmi', verbose_name='Faol')),
                ('parent', models.ForeignKey(blank=True, help_text='Yuqori darajali kategoriya (ixtiyoriy)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subcategories', to='inventory.equipmentcategory', verbose_name='Asosiy kategoriya')),
            ],
            options={
                'verbose_name': 'Qurilma kategoriyasi',
                'verbose_name_plural': 'Qurilma kategoriyalari',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='equipment',
            name='category',
            field=models.ForeignKey(help_text='Qurilma kategoriyasi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='equipments', to='inventory.equipmentcategory', verbose_name='Kategoriya'),
        ),
        migrations.CreateModel(
            name='InventoryCheck',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('notes', models.TextField(blank=True, help_text="Qo'shimcha izohlar va ma'lumotlar", null=True, verbose_name='Izohlar')),
                ('check_date', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Tekshiruv amalga oshirilgan vaqt', verbose_name='Tekshirilgan sana')),
                ('check_type', models.CharField(choices=[('SCHEDULED', 'Rejalashtirilgan'), ('RANDOM', 'Tasodifiy'), ('INCIDENT', "Hodisa bo'yicha"), ('ANNUAL', 'Yillik')], default='SCHEDULED', help_text='Tekshiruv turi', max_length=20, verbose_name='Tekshiruv turi')),
                ('location', models.CharField(help_text='Qurilma topilgan joylashuv', max_length=200, verbose_name='Joylashuv')),
                ('expected_location', models.CharField(blank=True, help_text="Qurilma bo'lishi kerak bo'lgan joylashuv", max_length=200, verbose_name='Kutilgan joylashuv')),
                ('location_mismatch', models.BooleanField(default=False, help_text='Haqiqiy va kutilgan joylashuv mos kelmaganmi', verbose_name='Joylashuv mos kelmadi')),
                ('condition', models.TextField(help_text='Qurilma holatining batafsil tavsifi', verbose_name='Holat')),
                ('physical_condition', models.CharField(choices=[('NEW', 'Yangi'), ('EXCELLENT', "A'lo"), ('GOOD', 'Yaxshi'), ('FAIR', "O'rtacha"), ('POOR', 'Yomon')], default='GOOD', help_text='Fizik holatning baholangan darajasi', max_length=20, verbose_name='Fizik holat')),
                ('is_functional', models.BooleanField(default=True, help_text="Qurilma to'g'ri ishlayaptimi", verbose_name='Ishlayaptimi')),
                ('issues_found', models.TextField(blank=True, help_text='Tekshiruv davomida topilgan muammolar', verbose_name='Topilgan muammolar')),
                ('requires_maintenance', models.BooleanField(default=False, help_text="Qurilma ta'mirlashni talab qiladimi", verbose_name="Ta'mirlash kerak")),
                ('requires_replacement', models.BooleanField(default=False, help_text='Qurilma almashtirishni talab qiladimi', verbose_name='Almashtirish kerak')),
                ('employee_confirmed', models.BooleanField(default=False, help_text='Hodim tekshiruvni tasdiqladimi', verbose_name='Hodim tasdiqladi')),
                ('confirmation_date', models.DateTimeField(blank=True, help_text='Hodim tomonidan tasdiqlangan vaqt', null=True, verbose_name='Tasdiqlangan vaqt')),
                ('photos', models.ImageField(blank=True, help_text='Tekshiruv davomida olingan fotosuratlar', null=True, upload_to='inventory_checks/', verbose_name='Fotosuratlar')),
                ('next_check_date', models.DateField(blank=True, help_text='Keyingi tekshiruv rejalashtirilgan sana', null=True, verbose_name='Keyingi tekshiruv sanasi')),
                ('checked_by', models.ForeignKey(help_text='Tekshiruvni amalga oshirgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inventory_checks_performed', to=settings.AUTH_USER_MODEL, verbose_name='Tekshirgan')),
                ('employee', models.ForeignKey(blank=True, help_text='Tekshiruvni tasdiqlagan hodim', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='confirmed_checks', to='inventory.employee', verbose_name='Tasdiqlagan hodim')),
                ('equipment', models.ForeignKey(help_text='Tekshirilayotgan qurilma', on_delete=django.db.models.deletion.CASCADE, related_name='inventory_checks', to='inventory.equipment', verbose_name='Qurilma')),
            ],
            options={
                'verbose_name': 'Inventarizatsiya tekshiruvi',
                'verbose_name_plural': 'Inventarizatsiya tekshiruvlari',
                'ordering': ['-check_date'],
            },
        ),
        migrations.CreateModel(
            name='MaintenanceRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('notes', models.TextField(blank=True, help_text="Qo'shimcha izohlar va ma'lumotlar", null=True, verbose_name='Izohlar')),
                ('maintenance_type', models.CharField(choices=[('REPAIR', "Ta'mirlash"), ('UPGRADE', 'Yangilash'), ('CLEANING', 'Tozalash'), ('INSPECTION', 'Tekshiruv'), ('CALIBRATION', 'Kalibrlash'), ('SOFTWARE_UPDATE', "Dasturiy ta'minot yangilash")], help_text="Ta'mirlash yoki texnik xizmat ko'rsatish turi", max_length=30, verbose_name="Ta'mirlash turi")),
                ('status', models.CharField(choices=[('SCHEDULED', 'Rejalashtirilgan'), ('IN_PROGRESS', 'Jarayonda'), ('COMPLETED', 'Bajarilgan'), ('CANCELLED', 'Bekor qilingan')], db_index=True, default='SCHEDULED', help_text="Ta'mirlash jarayonining holati", max_length=20, verbose_name='Holat')),
                ('priority', models.CharField(choices=[('LOW', 'Past'), ('MEDIUM', "O'rta"), ('HIGH', 'Yuqori'), ('CRITICAL', 'Kritik')], db_index=True, default='MEDIUM', help_text="Ta'mirlashning muhimlik darajasi", max_length=20, verbose_name='Muhimlik darajasi')),
                ('scheduled_date', models.DateTimeField(blank=True, help_text="Ta'mirlash rejalashtirilgan vaqt", null=True, verbose_name='Rejalashtirilgan sana')),
                ('started_date', models.DateTimeField(blank=True, help_text="Ta'mirlash boshlangan vaqt", null=True, verbose_name='Boshlangan sana')),
                ('performed_date', models.DateTimeField(blank=True, db_index=True, help_text="Ta'mirlash tugallangan vaqt", null=True, verbose_name='Bajarilgan sana')),
                ('next_maintenance_date', models.DateField(blank=True, help_text="Keyingi rejali ta'mirlash sanasi", null=True, verbose_name="Keyingi ta'mirlash sanasi")),
                ('description', models.TextField(help_text="Ta'mirlash ishlarining tavsifi", verbose_name='Tavsif')),
                ('problem_found', models.TextField(blank=True, help_text='Aniqlangan muammo yoki nosozlik', verbose_name='Topilgan muammo')),
                ('solution_applied', models.TextField(blank=True, help_text="Qo'llangan yechim yoki ta'mirlash", verbose_name="Qo'llangan yechim")),
                ('parts_replaced', models.TextField(blank=True, help_text="Almashtirilgan ehtiyot qismlar ro'yxati", verbose_name='Almashtirilgan qismlar')),
                ('performed_by', models.CharField(help_text="Ta'mirlashni bajargan shaxs yoki tashkilot", max_length=200, verbose_name='Bajargan')),
                ('vendor', models.CharField(blank=True, help_text="Ta'mirlashni bajargan tashqi tashkilot", max_length=200, verbose_name='Tashqi tashkilot')),
                ('estimated_cost', models.DecimalField(decimal_places=2, default=0, help_text='Taxminiy umumiy xarajat', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Taxminiy xarajat')),
                ('actual_cost', models.DecimalField(decimal_places=2, default=0, help_text='Haqiqiy umumiy xarajat', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Haqiqiy xarajat')),
                ('labor_cost', models.DecimalField(decimal_places=2, default=0, help_text='Ish haqi xarajatlari', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Ish haqi')),
                ('parts_cost', models.DecimalField(decimal_places=2, default=0, help_text='Ehtiyot qismlar xarajatlari', max_digits=10, validators=[inventory.validators.validate_positive_price], verbose_name='Ehtiyot qismlar narxi')),
                ('downtime_hours', models.DecimalField(decimal_places=2, default=0, help_text='Qurilma ishlamagan vaqt (soatlarda)', max_digits=6, verbose_name="To'xtash vaqti (soat)")),
                ('warranty_claim', models.BooleanField(default=False, help_text="Kafolat bo'yicha ta'mirlash", verbose_name="Kafolat bo'yicha")),
                ('preventive', models.BooleanField(default=False, help_text="Profilaktik ta'mirlash", verbose_name='Profilaktik')),
                ('attachments', models.FileField(blank=True, help_text='Texnik hujjatlar, hisobotlar va boshqalar', null=True, upload_to='maintenance_docs/', verbose_name="Qo'shimcha hujjatlar")),
                ('created_by', models.ForeignKey(blank=True, help_text='Yozuvni yaratgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='maintenance_created', to=settings.AUTH_USER_MODEL, verbose_name='Yaratgan')),
                ('equipment', models.ForeignKey(help_text="Ta'mirlangan qurilma", on_delete=django.db.models.deletion.CASCADE, related_name='maintenance_records', to='inventory.equipment', verbose_name='Qurilma')),
                ('technician', models.ForeignKey(blank=True, help_text="Ta'mirlashni bajargan texnik hodim", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='maintenance_performed', to='inventory.employee', verbose_name='Texnik')),
            ],
            options={
                'verbose_name': "Ta'mirlash yozuvi",
                'verbose_name_plural': "Ta'mirlash yozuvlari",
                'ordering': ['-performed_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PasswordChangeOTP',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('otp_code', models.CharField(db_index=True, help_text='6 raqamli bir martalik kod', max_length=6, verbose_name='OTP kod')),
                ('expires_at', models.DateTimeField(db_index=True, help_text='OTP kodning amal qilish muddati', verbose_name='Amal qilish muddati')),
                ('is_used', models.BooleanField(db_index=True, default=False, help_text='OTP ishlatilganmi', verbose_name='Ishlatilgan')),
                ('used_at', models.DateTimeField(blank=True, help_text='OTP ishlatilgan vaqt', null=True, verbose_name='Ishlatilgan vaqt')),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text="So'rov yuborilgan IP manzil", null=True, verbose_name='IP manzil')),
                ('user', models.ForeignKey(help_text="OTP so'ragan foydalanuvchi", on_delete=django.db.models.deletion.CASCADE, related_name='password_change_otps', to=settings.AUTH_USER_MODEL, verbose_name='Foydalanuvchi')),
            ],
            options={
                'verbose_name': "Parol o'zgartirish OTP",
                'verbose_name_plural': "Parol o'zgartirish OTP kodlari",
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Yozuv yaratilgan vaqt (avtomatik)', verbose_name='Yaratilgan vaqt')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text="Yozuv oxirgi marta o'zgartirilgan vaqt (avtomatik)", verbose_name="O'zgartirilgan vaqt")),
                ('action', models.CharField(choices=[('CREATE', 'Yaratildi'), ('UPDATE', "O'zgartirildi"), ('DELETE', "O'chirildi"), ('ASSIGN', 'Tayinlandi'), ('RETURN', 'Qaytarildi'), ('CHECK', 'Tekshirildi'), ('MAINTAIN', "Ta'mirlandi"), ('APPROVE', 'Tasdiqlandi'), ('REJECT', 'Rad etildi'), ('LOGIN', 'Kirish'), ('LOGOUT', 'Chiqish'), ('EXPORT', 'Eksport'), ('IMPORT', 'Import')], db_index=True, help_text='Amalga oshirilgan harakat turi', max_length=20, verbose_name='Harakat')),
                ('timestamp', models.DateTimeField(auto_now_add=True, db_index=True, help_text='Harakat amalga oshirilgan vaqt', verbose_name='Vaqt')),
                ('object_id', models.PositiveIntegerField(blank=True, help_text="Ta'sirlangan obyekt ID raqami", null=True, verbose_name='Obyekt ID')),
                ('model_name', models.CharField(blank=True, help_text='Model klassi nomi', max_length=100, verbose_name='Model nomi')),
                ('object_repr', models.CharField(blank=True, help_text='Obyektning string tasviri', max_length=200, verbose_name='Obyekt tasviri')),
                ('changes', models.JSONField(blank=True, help_text="O'zgarishlar JSON formatda", null=True, verbose_name="O'zgarishlar")),
                ('old_values', models.JSONField(blank=True, help_text="O'zgarishdan oldingi qiymatlar", null=True, verbose_name='Eski qiymatlar')),
                ('new_values', models.JSONField(blank=True, help_text="O'zgarishdan keyingi qiymatlar", null=True, verbose_name='Yangi qiymatlar')),
                ('description', models.TextField(blank=True, help_text='Harakatning qisqa tavsifi', verbose_name='Tavsif')),
                ('ip_address', models.GenericIPAddressField(blank=True, help_text='Foydalanuvchining IP manzili', null=True, verbose_name='IP manzil')),
                ('user_agent', models.CharField(blank=True, help_text='Brauzer user agent string', max_length=500, verbose_name='User Agent')),
                ('success', models.BooleanField(db_index=True, default=True, help_text='Harakat muvaffaqiyatli amalga oshirilganmi', verbose_name='Muvaffaqiyatli')),
                ('error_message', models.TextField(blank=True, help_text='Xatolik yuz berganda xatolik xabari', verbose_name='Xatolik xabari')),
                ('content_type', models.ForeignKey(blank=True, help_text="Ta'sirlangan obyekt turi", null=True, on_delete=django.db.models.deletion.SET_NULL, to='contenttypes.contenttype', verbose_name='Model turi')),
                ('user', models.ForeignKey(blank=True, help_text='Harakatni amalga oshirgan foydalanuvchi', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_logs', to=settings.AUTH_USER_MODEL, verbose_name='Foydalanuvchi')),
            ],
            options={
                'verbose_name': 'Audit Log',
                'verbose_name_plural': 'Audit Logs',
                'ordering': ['-timestamp'],
                'indexes': [models.Index(fields=['user', 'timestamp'], name='inventory_a_user_id_55d86c_idx'), models.Index(fields=['action', 'timestamp'], name='inventory_a_action_92f4bf_idx'), models.Index(fields=['content_type', 'object_id'], name='inventory_a_content_60dd5b_idx'), models.Index(fields=['timestamp'], name='inventory_a_timesta_628f6b_idx')],
            },
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['employee_id'], name='inventory_e_employe_0c99a2_idx'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['email'], name='inventory_e_email_cbb7a4_idx'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['is_active'], name='inventory_e_is_acti_ebb994_idx'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['department', 'is_active'], name='inventory_e_departm_cfd2f5_idx'),
        ),
        migrations.AddIndex(
            model_name='department',
            index=models.Index(fields=['code'], name='inventory_d_code_83fbb6_idx'),
        ),
        migrations.AddIndex(
            model_name='department',
            index=models.Index(fields=['is_active'], name='inventory_d_is_acti_3d5cb6_idx'),
        ),
        migrations.AddIndex(
            model_name='branch',
            index=models.Index(fields=['code'], name='inventory_b_code_60dd00_idx'),
        ),
        migrations.AddIndex(
            model_name='branch',
            index=models.Index(fields=['city'], name='inventory_b_city_6111f2_idx'),
        ),
        migrations.AddIndex(
            model_name='branch',
            index=models.Index(fields=['branch_type'], name='inventory_b_branch__4a022e_idx'),
        ),
        migrations.AddIndex(
            model_name='branch',
            index=models.Index(fields=['parent_branch'], name='inventory_b_parent__8a4000_idx'),
        ),
        migrations.AddIndex(
            model_name='branch',
            index=models.Index(fields=['is_active'], name='inventory_b_is_acti_8ccb0d_idx'),
        ),
        migrations.AddIndex(
            model_name='assignment',
            index=models.Index(fields=['employee', 'return_date'], name='inventory_a_employe_eaa6c8_idx'),
        ),
        migrations.AddIndex(
            model_name='assignment',
            index=models.Index(fields=['equipment', 'return_date'], name='inventory_a_equipme_4177fb_idx'),
        ),
        migrations.AddIndex(
            model_name='assignment',
            index=models.Index(fields=['assigned_date'], name='inventory_a_assigne_62e545_idx'),
        ),
        migrations.AddIndex(
            model_name='assignment',
            index=models.Index(fields=['is_approved'], name='inventory_a_is_appr_ecc6b6_idx'),
        ),
        migrations.AddIndex(
            model_name='equipmentcategory',
            index=models.Index(fields=['code'], name='inventory_e_code_cbef40_idx'),
        ),
        migrations.AddIndex(
            model_name='equipmentcategory',
            index=models.Index(fields=['parent'], name='inventory_e_parent__6a0340_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['inventory_number'], name='inventory_e_invento_f13252_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['serial_number'], name='inventory_e_serial__97e65d_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['status'], name='inventory_e_status_0a3a01_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['category'], name='inventory_e_categor_8eb76f_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['status', 'is_active'], name='inventory_e_status_1f47d7_idx'),
        ),
        migrations.AddIndex(
            model_name='equipment',
            index=models.Index(fields=['warranty_expiry'], name='inventory_e_warrant_3537d0_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorycheck',
            index=models.Index(fields=['equipment', 'check_date'], name='inventory_i_equipme_da43cb_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorycheck',
            index=models.Index(fields=['checked_by', 'check_date'], name='inventory_i_checked_89cd5a_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorycheck',
            index=models.Index(fields=['check_type'], name='inventory_i_check_t_8d0883_idx'),
        ),
        migrations.AddIndex(
            model_name='inventorycheck',
            index=models.Index(fields=['requires_maintenance'], name='inventory_i_require_382616_idx'),
        ),
        migrations.AddIndex(
            model_name='maintenancerecord',
            index=models.Index(fields=['equipment', 'performed_date'], name='inventory_m_equipme_6ff325_idx'),
        ),
        migrations.AddIndex(
            model_name='maintenancerecord',
            index=models.Index(fields=['status'], name='inventory_m_status_7bfe93_idx'),
        ),
        migrations.AddIndex(
            model_name='maintenancerecord',
            index=models.Index(fields=['priority'], name='inventory_m_priorit_5a2fee_idx'),
        ),
        migrations.AddIndex(
            model_name='maintenancerecord',
            index=models.Index(fields=['maintenance_type'], name='inventory_m_mainten_d2f49f_idx'),
        ),
        migrations.AddIndex(
            model_name='passwordchangeotp',
            index=models.Index(fields=['user', 'created_at'], name='inventory_p_user_id_07c6ef_idx'),
        ),
        migrations.AddIndex(
            model_name='passwordchangeotp',
            index=models.Index(fields=['otp_code', 'is_used'], name='inventory_p_otp_cod_77cbb2_idx'),
        ),
        migrations.AddIndex(
            model_name='passwordchangeotp',
            index=models.Index(fields=['expires_at'], name='inventory_p_expires_9d5043_idx'),
        ),
    ]
